<template>
  <header class="header">
    <div class="container">
      <div class="header__inner">
        <AppLogo classes="logo-main"/>

          <nav class="nav">
            <li class="nav__link">
              <router-link :to="{name: 'doc'}" class="btn btn-to btn-to-nav">Документы</router-link>
            </li>

            <div class="vertical-line"></div>

            <li class="nav__link">
              <router-link :to="{name: 'web'}" class="btn btn-to btn-to-nav">Вебинары</router-link>
            </li>
            <li class="nav__link nav__link-specify">
              <router-link :to="{name: 'admin'}" class="btn btn-nav-specify">
                Общие настройки
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_215_60)">
                    <path d="M18.7221 7.88052H17.9668C17.7773 7.16625 17.4944 6.49009 17.1318 5.86584L17.6665 5.33114C18.1654 4.8322 18.1654 4.02326 17.6665 3.52432L16.4758 2.33367C15.9769 1.83472 15.1679 1.83472 14.669 2.33367L14.1343 2.86836C13.5101 2.5057 12.8339 2.22292 12.1196 2.03335V1.2777C12.1196 0.57204 11.5476 0 10.8419 0H9.15813C8.45248 0 7.88044 0.57204 7.88044 1.2777V2.03335C7.16624 2.22284 6.49001 2.5057 5.86583 2.86828L5.33107 2.33359C4.83212 1.83465 4.02319 1.83465 3.52424 2.33367L2.33367 3.52432C1.83472 4.02326 1.83472 4.8322 2.33367 5.33114L2.86828 5.86576C2.50562 6.49001 2.22276 7.16625 2.03328 7.88052H1.27762C0.57204 7.88052 0 8.45256 0 9.15821V10.8419C0 11.5476 0.57204 12.1196 1.27762 12.1196H2.03328C2.22284 12.8339 2.5057 13.5101 2.86836 14.1344L2.33367 14.6691C1.83472 15.168 1.83472 15.977 2.33367 16.4759L3.52432 17.6666C4.02326 18.1655 4.8322 18.1655 5.33114 17.6666L5.86591 17.1318C6.49009 17.4945 7.16632 17.7773 7.88051 17.9668V18.7224C7.88051 19.428 8.45255 20.0001 9.15821 20.0001H10.842C11.5477 20.0001 12.1197 19.428 12.1197 18.7224V17.9668C12.834 17.7772 13.5101 17.4944 14.1344 17.1317L14.6692 17.6666C15.1681 18.1655 15.977 18.1655 16.476 17.6666L17.6666 16.4759C17.9063 16.2363 18.0409 15.9113 18.0409 15.5725C18.0409 15.2336 17.9063 14.9086 17.6666 14.669L17.1319 14.1342C17.4945 13.5101 17.7773 12.8338 17.9669 12.1196H18.7222C19.4279 12.1196 19.9999 11.5475 19.9999 10.8419V9.15814C19.9998 8.45256 19.4278 7.88052 18.7221 7.88052ZM10 14.573C7.47837 14.573 5.42688 12.5216 5.42688 10C5.42688 7.47837 7.47837 5.42688 10 5.42688C12.5216 5.42688 14.5731 7.47837 14.5731 10C14.5731 12.5216 12.5216 14.573 10 14.573Z" fill="#FFEB99"/>
                    <path d="M9.99986 7.7135C8.73909 7.7135 7.71338 8.73921 7.71338 9.99999C7.71338 11.2607 8.73909 12.2864 9.99986 12.2864C11.2606 12.2864 12.2863 11.2607 12.2863 9.99999C12.2863 8.73921 11.2606 7.7135 9.99986 7.7135Z" fill="#FFEB99"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_215_60">
                      <rect width="20" height="20" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>

              </router-link>
            </li>

            <li class="nav__link">
              <button class="btn btn-nav-leave" @click="logout">
                Выйти
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18.6074 9.68666L15.2741 6.76998C15.1516 6.6633 14.9766 6.63748 14.8274 6.70416C14.6783 6.77166 14.5833 6.91998 14.5833 7.08334V8.33334H9.99993C9.76993 8.33334 9.58325 8.52002 9.58325 8.75002V11.25C9.58325 11.48 9.76993 11.6667 9.99993 11.6667H14.5833V12.9167C14.5833 13.08 14.6791 13.2284 14.8274 13.2959C14.8824 13.3209 14.9416 13.3334 14.9999 13.3334C15.0991 13.3334 15.1966 13.2984 15.2741 13.2301L18.6074 10.3134C18.6983 10.2342 18.7499 10.1201 18.7499 10.0001C18.7499 9.88006 18.6983 9.7658 18.6074 9.68666Z" fill="#EEEEEE"/>
                  <path d="M13.3333 12.5H10C9.31082 12.5 8.75 11.9392 8.75 11.25V8.75C8.75 8.06082 9.31082 7.5 10 7.5H13.3333C13.5633 7.5 13.75 7.31332 13.75 7.08332V1.25C13.75 0.56082 13.1892 0 12.5 0H2.5C1.81082 0 1.25 0.56082 1.25 1.25V18.75C1.25 19.4392 1.81082 20 2.5 20H12.5C13.1892 20 13.75 19.4392 13.75 18.75V12.9167C13.75 12.6867 13.5633 12.5 13.3333 12.5Z" fill="#EEEEEE"/>
                </svg>

              </button>
            </li>
          </nav>

      </div>
    </div>
  </header>
</template>

<script>
import AppLogo from "./AppLogo"
import {useRouter} from "vue-router"
import {useStore} from "vuex"

export default {
  setup() {
    const router = useRouter()
    const store = useStore()

    const logout = async () => {
      await store.dispatch('auth/logout')
      await router.push({name: 'login'})
    }


    return {
      logout,
    }
  },
  components: {
    AppLogo
  }
}
</script>
